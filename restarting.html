
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Restarting an interrupted process &#8212; ExPyRe  documentation</title>
    
  <link href="_static/css/theme.css" rel="stylesheet">
  <link href="_static/css/index.ff1ffe594081f20da1ef19478df9384b.css" rel="stylesheet">

    
  <link rel="stylesheet"
    href="_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    
      

    
    <link rel="stylesheet" type="text/css" href="_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="_static/sphinx-book-theme.css?digest=c3fdc42140077d1ad13ad2f1588a4309" />
    
  <link rel="preload" as="script" href="_static/js/index.be7d3bbb2ef33a8344ce.js">

    <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/sphinx-book-theme.12a9622fbb08dcb3a2a40b2c02b83a57.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Environment Variables" href="environment_variables.html" />
    <link rel="prev" title="Scheduler Configuration file" href="config.html" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="None">
    

    <!-- Google Analytics -->
    
  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="80">
    
    <div class="container-fluid" id="banner"></div>

    

    <div class="container-xl">
      <div class="row">
          
<div class="col-12 col-md-3 bd-sidebar site-navigation show" id="site-navigation">
    
        <div class="navbar-brand-box">
    <a class="navbar-brand text-wrap" href="index.html">
      
      
      
      <h1 class="site-logo" id="site-title">ExPyRe  documentation</h1>
      
    </a>
</div><form class="bd-search d-flex align-items-center" action="search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search the docs ..." aria-label="Search the docs ..." autocomplete="off" >
</form><nav class="bd-links" id="bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item active">
        <p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Contents:
 </span>
</p>
<ul class="current nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="basic_use.html">
   Basic use
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="resources.html">
   Resources
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="config.html">
   Scheduler Configuration file
  </a>
 </li>
 <li class="toctree-l1 current active">
  <a class="current reference internal" href="#">
   Restarting an interrupted process
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="environment_variables.html">
   Environment Variables
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="command_line.html">
   Command line utilities
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="unit_testing.html">
   Unit testing
  </a>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="expyre.html">
   expyre package
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" type="checkbox"/>
  <label for="toctree-checkbox-1">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="expyre.cli.html">
     expyre.cli package
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="expyre.schedulers.html">
     expyre.schedulers package
    </a>
   </li>
  </ul>
 </li>
</ul>

    </div>
</nav> <!-- To handle the deprecated key -->

<div class="navbar_extra_footer">
  Theme by the <a href="https://ebp.jupyterbook.org">Executable Book Project</a>
</div>

</div>


          


          
<main class="col py-md-3 pl-md-4 bd-content overflow-auto" role="main">
    
    <div class="topbar container-xl fixed-top">
    <div class="topbar-contents row">
        <div class="col-12 col-md-3 bd-topbar-whitespace site-navigation show"></div>
        <div class="col pl-md-4 topbar-main">
            
            <button id="navbar-toggler" class="navbar-toggler ml-0" type="button" data-toggle="collapse"
                data-toggle="tooltip" data-placement="bottom" data-target=".site-navigation" aria-controls="navbar-menu"
                aria-expanded="true" aria-label="Toggle navigation" aria-controls="site-navigation"
                title="Toggle navigation" data-toggle="tooltip" data-placement="left">
                <i class="fas fa-bars"></i>
                <i class="fas fa-arrow-left"></i>
                <i class="fas fa-arrow-up"></i>
            </button>
            
            
<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn" aria-label="Download this page"><i
            class="fas fa-download"></i></button>

    <div class="dropdown-buttons">
        <!-- ipynb file if we had a myst markdown file -->
        
        <!-- Download raw file -->
        <a class="dropdown-buttons" href="_sources/restarting.rst.txt"><button type="button"
                class="btn btn-secondary topbarbtn" title="Download source file" data-toggle="tooltip"
                data-placement="left">.rst</button></a>
        <!-- Download PDF via print -->
        <button type="button" id="download-print" class="btn btn-secondary topbarbtn" title="Print to PDF"
            onClick="window.print()" data-toggle="tooltip" data-placement="left">.pdf</button>
    </div>
</div>

            <!-- Source interaction buttons -->

            <!-- Full screen (wrap in <a> to have style consistency -->

<a class="full-screen-button"><button type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip"
        data-placement="bottom" onclick="toggleFullScreen()" aria-label="Fullscreen mode"
        title="Fullscreen mode"><i
            class="fas fa-expand"></i></button></a>

            <!-- Launch buttons -->

        </div>

        <!-- Table of contents -->
        <div class="d-none d-md-block col-md-2 bd-toc show">
            
        </div>
    </div>
</div>
    <div id="main-content" class="row">
        <div class="col-12 col-md-9 pl-md-3 pr-md-0">
        
              <div>
                
  <div class="section" id="restarting-an-interrupted-process">
<span id="restarting"></span><h1>Restarting an interrupted process<a class="headerlink" href="#restarting-an-interrupted-process" title="Permalink to this headline">¶</a></h1>
<p>The simplest approach is to rely on the automated pickle/hash-based
identification of repeated jobs.  Unless the default
<code class="docutils literal notranslate"><span class="pre">try_restart_from_prev=True</span></code> is overridden when calling <code class="docutils literal notranslate"><span class="pre">ExPyRe(...)</span></code>
constructor, it will try to recreate the job if it seems identical to
a previous one.</p>
<p>A job is identical if the hash of the pickles are identical
for all of the following:</p>
<ul class="simple">
<li><p>function</p></li>
<li><p>input arguments (except those listed in <code class="docutils literal notranslate"><span class="pre">hash_ignore</span></code>, for example any output-only arguments)</p></li>
<li><p>input file names</p></li>
<li><p>input file contents</p></li>
</ul>
<p>The job will be recreated if the hash matches a job that
exists in the JobsDB and has status compatible with returning results
(i.e. not failed or cleaned.) “Processed” status means that the function
responsible for creating these jobs have already used the results, marked
jobs as “processed” and returned. These jobs will not be recreated and
files associated with them may be safely cleaned up. With this mechanism the
sequence of calling the restart is identical to that of the original calls.
The constructor will recreate the <code class="docutils literal notranslate"><span class="pre">ExPyRe</span></code> object, the <code class="docutils literal notranslate"><span class="pre">start</span></code> call will
submit it if necessary, and the <code class="docutils literal notranslate"><span class="pre">get_results</span></code> will sync remote files if needed and
return the unpickled results.</p>
<p>Another approach, applicable to jobs that have been started, is to
manually recreate them from the JobsDB database.  Syntax is</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">db</span> <span class="o">=</span> <span class="n">expyre</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">db</span>
<span class="n">xprs</span> <span class="o">=</span> <span class="n">ExPyRe</span><span class="o">.</span><span class="n">from_jobsdb</span><span class="p">(</span><span class="n">db</span><span class="o">.</span><span class="n">jobs</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;task_1&#39;</span><span class="p">))</span>
<span class="k">for</span> <span class="n">xpr</span> <span class="ow">in</span> <span class="n">xprs</span><span class="p">:</span>
    <span class="n">res</span> <span class="o">=</span> <span class="n">xpr</span><span class="o">.</span><span class="n">get_results</span><span class="p">()</span>
    <span class="c1"># do something with res</span>
</pre></div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">db.jobs(...)</span></code> call can filter with regexps on <code class="docutils literal notranslate"><span class="pre">status</span></code>, <code class="docutils literal notranslate"><span class="pre">name</span></code>,
<code class="docutils literal notranslate"><span class="pre">id</span></code>, or <code class="docutils literal notranslate"><span class="pre">system</span></code>.</p>
</div>


              </div>
              
        
            <!-- Previous / next buttons -->
<div class='prev-next-area'> 
    <a class='left-prev' id="prev-link" href="config.html" title="previous page">
        <i class="fas fa-angle-left"></i>
        <div class="prev-next-info">
            <p class="prev-next-subtitle">previous</p>
            <p class="prev-next-title">Scheduler Configuration file</p>
        </div>
    </a>
    <a class='right-next' id="next-link" href="environment_variables.html" title="next page">
    <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">Environment Variables</p>
    </div>
    <i class="fas fa-angle-right"></i>
    </a>
</div>
        
        </div>
    </div>
    <footer class="footer">
    <div class="container">
      <p>
        
            &copy; Copyright .<br/>
      </p>
    </div>
  </footer>
</main>


      </div>
    </div>
  
  <script src="_static/js/index.be7d3bbb2ef33a8344ce.js"></script>

  </body>
</html>